<!DOCTYPE html>
<html>
	<head>
		<title>Email AI Assistant</title>
		<script src="popup.js" type="module"></script>
		<link rel="stylesheet" href="styles.css" />
	</head>
	<body>
		<div id="loginContainer" class="container">
			<div class="login-content">
				<h1>Welcome to Email AI Assistant</h1>
				<p>Please log in to continue:</p>
				<button id="loginButton">Log in with Google</button>
			</div>
		</div>

		<div id="mainContainer" class="container" style="display: none">
			<div id="sidebar">
				<h2>Conversations</h2>
				<div id="conversationList"></div>
			</div>
			<div id="chatArea">
				<div id="gmailPopup" class="gmail-popup" style="display: none">
					Navigate to Gmail to use this tool
				</div>
				<div id="chatWindow" class="chat-window">
					<!-- Chat messages will be inserted here -->
				</div>
				<div id="inputArea" class="input-area">
					<button id="summarizeButton" class="centered-button">Summarize Email</button>
					<div id="chatInputArea" style="display: none;">
						<textarea id="userInput" placeholder="Ask a question about the email..."></textarea>
						<button id="sendButton">
							<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" fill="none" class="icon-sm m-1 md:m-0">
								<path d="M.5 1.163A1 1 0 0 1 1.97.28l12.868 6.837a1 1 0 0 1 0 1.766L1.969 15.72A1 1 0 0 1 .5 14.836V10.33a1 1 0 0 1 .816-.983L8.5 8 1.316 6.653A1 1 0 0 1 .5 5.67V1.163Z" fill="currentColor"></path>
							</svg>
						</button>
					</div>
				</div>
			</div>
			<button id="settingsButton" class="settings-button">
				<svg
					stroke="currentColor"
					fill="none"
					stroke-width="2"
					viewBox="0 0 24 24"
					stroke-linecap="round"
					stroke-linejoin="round"
					class="h-4 w-4"
					height="1em"
					width="1em"
					xmlns="http://www.w3.org/2000/svg"
				>
					<circle cx="12" cy="12" r="3"></circle>
					<path
						d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"
					></path>
				</svg>
			</button>
		</div>
		<div id="settingsPanel" class="settings-panel">
            <h2 id="settingsTitle">Settings</h2>
            <div class="setting-item">
                <label for="aiProvider">AI Provider:</label>
                <select id="aiProvider">
                    <option value="openai">OpenAI</option>
                    <option value="claude">Claude</option>
                    <option value="openwebui">OpenWebUI</option>
                    <option value="ollama">Ollama</option>
                </select>
            </div>
            <div class="setting-item">
                <label for="apiKey">API Key:</label>
                <div class="api-key-container">
                    <input type="password" id="apiKey" placeholder="Enter your API key" />
                    <button id="toggleApiKey" class="toggle-api-key">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                            <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="setting-item">
                <label for="emailRefreshRate">Email Refresh Rate:</label>
                <select id="emailRefreshRate">
                    <option value="30">30 seconds</option>
                    <option value="60">1 minute</option>
                    <option value="300">5 minutes</option>
                </select>
            </div>
            <div class="setting-item">
                <label for="emailUnreadCount">Email Unread Count:</label>
                <div class="toggle-container">
                    <input type="checkbox" id="emailUnreadCount" class="toggle-input" />
                    <label for="emailUnreadCount" class="toggle-label"></label>
                </div>
            </div>
            <div class="setting-item">
                <label for="conversationLifetime">Conversation Lifetime:</label>
                <select id="conversationLifetime">
                    <option value="12">12 hours</option>
                    <option value="24">24 hours</option>
                    <option value="48">48 hours</option>
                </select>
            </div>
            <div class="logout-container">
                <button id="logoutButton" class="logout-button">Logout</button>
            </div>
        </div>
	</body>
</html>